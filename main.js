(()=>{window.onload=function(){myProjects=JSON.parse(localStorage.getItem("myProjects")),null===myProjects&&(myProjects=[],console.log(myProjects))};const t=function(){function t(t){const n=document.createElement("div"),o=document.createElement("label"),r=document.createElement("input");if(n.setAttribute("id","projectTitleForm"),o.setAttribute("id","projectTitleLabel"),r.addEventListener("keypress",e),o.setAttribute("for","projectTitleInput"),o.textContent="Project Name:",r.setAttribute("id","projectTitleInput"),r.setAttribute("type","text"),r.setAttribute("placeholder","Project Name"),null===defaultProject.firstChild)defaultProject.appendChild(n),n.appendChild(o),n.appendChild(r);else if(null!==defaultProject.firstChild){let t=projectTitle.innerHTML;r.removeAttribute("placeholder"),r.setAttribute("value",`${function(t){const e=t.indexOf(" ");return-1===e?"":t.substring(e+1)}(t)}`),defaultProject.replaceChild(n,projectTitle),n.appendChild(o),n.appendChild(r)}}const e=function(e){if("Enter"===e.key){const o=document.createElement("h3");projectTitleLabel.remove(),o.setAttribute("id","projectTitle"),o.innerHTML=`Project: ${e.target.value}`,defaultProject.replaceChild(o,projectTitleForm),o.addEventListener("dblclick",t),r();let d=e.target.value;n(d),console.log(myProjects)}},n=function(t){myProjects.push(t),o(),o()};function o(){localStorage.setItem("myProjects",JSON.stringify(myProjects))}const r=function(){if(null===document.getElementById("addToDoBtn")&&null===document.getElementById("toDoForm")){const t=document.createElement("button");t.addEventListener("click",d),t.setAttribute("id","addToDoBtn"),t.textContent="+ add to-do item",defaultProject.appendChild(t)}},d=function(){const t=document.getElementById("addToDoBtn"),e=document.createElement("form");e.setAttribute("id","toDoForm");const n=document.createElement("div"),o=document.createElement("label"),r=document.createElement("input");o.setAttribute("for","title"),o.textContent="Title",r.setAttribute("type","text"),r.setAttribute("id","title"),r.setAttribute("placeholder","title");const d=document.createElement("div"),i=document.createElement("label"),l=document.createElement("input");i.setAttribute("for","descripton"),i.textContent="Description",l.setAttribute("type","text"),l.setAttribute("id","descripton"),l.setAttribute("placeholder","description");const c=document.createElement("div"),u=document.createElement("label"),a=document.createElement("input");u.setAttribute("for","due-date"),u.textContent="Due Date",a.setAttribute("type","date"),a.setAttribute("id","due-date");const p=document.createElement("div"),s=document.createElement("label"),m=document.createElement("select"),b=document.createElement("option"),C=document.createElement("option"),f=document.createElement("option");s.setAttribute("for","priority"),s.textContent="Priority",m.setAttribute("id","priority"),b.setAttribute("value","urgent"),b.setAttribute("id","priorityNow"),b.textContent="Urgent",b.style.backgroundColor="red",C.setAttribute("value","soon"),C.setAttribute("id","prioritySoon"),C.textContent="Soon",C.style.backgroundColor="yellow",f.setAttribute("value","later"),f.setAttribute("id","priorityLater"),f.textContent="Later",f.style.backgroundColor="green";const h=document.createElement("button");h.setAttribute("id","toDoSaveBtn"),h.setAttribute("type","submit"),h.textContent="save",t.remove(),defaultProject.appendChild(e),e.appendChild(n),n.appendChild(o),n.appendChild(r),e.appendChild(d),d.appendChild(i),d.appendChild(l),e.appendChild(c),c.appendChild(u),c.appendChild(a),e.appendChild(p),p.appendChild(s),p.appendChild(m),m.appendChild(b),m.appendChild(C),m.appendChild(f),defaultProject.appendChild(h)};return{addDefaultProject:function(e){const n=document.getElementById("projects"),o=document.createElement("div");o.setAttribute("id","defaultProject"),n.appendChild(o),t()}}}();document.getElementById("addProjectBtn").addEventListener("click",t.addDefaultProject)})();