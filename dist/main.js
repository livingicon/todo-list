(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{a:()=>n,P:()=>c});const e=function(t){const e=document.getElementById("projects"),o=document.createElement("form"),r=document.createElement("div"),i=document.createElement("label"),d=document.createElement("input"),a=document.createElement("button"),l=document.createElement("button");o.setAttribute("id","projectForm"),r.setAttribute("id","projectFormDiv"),i.setAttribute("for","project"),i.textContent="Project Name",d.setAttribute("type","text"),d.setAttribute("id","project"),d.setAttribute("placeholder","project name"),a.setAttribute("id","projectFormSaveBtn"),a.setAttribute("type","submit"),a.textContent="save",a.style.backgroundColor="var(--later)",l.setAttribute("id","projectCancelBtn"),l.setAttribute("type","button"),l.textContent="cancel",l.style.backgroundColor="var(--urgent)",e.innerHTML="",e.appendChild(o),o.appendChild(r),r.appendChild(i),r.appendChild(d),o.appendChild(a),o.appendChild(l),a.addEventListener("click",n.addProject),l.addEventListener("click",c.addAllProjects)},o=function(t){const e=document.getElementById("projects"),o=document.createElement("form"),r=document.createElement("div");o.setAttribute("id","toDoForm");const i=document.createElement("div"),d=document.createElement("label"),a=document.createElement("input");d.setAttribute("for","title"),d.textContent="To Do Item Title",a.setAttribute("type","text"),a.setAttribute("id","title"),a.setAttribute("placeholder","title");const l=document.createElement("div"),u=document.createElement("label"),s=document.createElement("input");u.setAttribute("for","descripton"),u.textContent="To Do Item Description",s.setAttribute("type","text"),s.setAttribute("id","description"),s.setAttribute("placeholder","description");const p=document.createElement("div"),m=document.createElement("label"),b=document.createElement("input");m.setAttribute("for","due-date"),m.textContent="To Do Item Due Date",b.setAttribute("type","date"),b.setAttribute("id","due-date");const A=document.createElement("div"),g=document.createElement("label"),y=document.createElement("select"),E=document.createElement("option"),C=document.createElement("option"),j=document.createElement("option");g.setAttribute("for","priority"),g.textContent="To Do Item Priority",y.setAttribute("id","priority"),E.setAttribute("value","urgent"),E.setAttribute("id","priorityNow"),E.textContent="Urgent",E.style.backgroundColor="var(--urgent)",C.setAttribute("value","soon"),C.setAttribute("id","prioritySoon"),C.textContent="Soon",C.style.backgroundColor="var(--soon)",j.setAttribute("value","later"),j.setAttribute("id","priorityLater"),j.textContent="Later",j.style.backgroundColor="var(--later)";const h=document.createElement("button");h.setAttribute("id","toDoFormSaveBtn"),h.setAttribute("type","submit"),h.textContent="save",h.style.backgroundColor="var(--later)";let v=t.target.getAttribute("data-position");h.setAttribute("data-position",`${v}`);const f=document.createElement("button");f.setAttribute("id","toDoCancelBtn"),f.setAttribute("type","button"),f.textContent="cancel",f.style.backgroundColor="var(--urgent)",e.innerHTML="",e.appendChild(o),o.appendChild(r),r.appendChild(i),i.appendChild(d),i.appendChild(a),r.appendChild(l),l.appendChild(u),l.appendChild(s),r.appendChild(p),p.appendChild(m),p.appendChild(b),r.appendChild(A),A.appendChild(g),A.appendChild(y),y.appendChild(E),y.appendChild(C),y.appendChild(j),r.appendChild(h),r.appendChild(f),h.addEventListener("click",n.addToDo),f.addEventListener("click",c.addAllProjects)},n=function(){function t(t){this.project=t,this.toDoArray=[]}class e{constructor(t="unknown",e="unknown",o=0,n=0){this.title=t,this.description=e,this.date=o,this.priority=n}}return{addProject:function(e){let o=[];o=JSON.parse(localStorage.getItem("myProjects")),e.preventDefault();const n=document.getElementById("project").value;if(!n)return alert("Please enter a project name in the input."),!1;{let e=new t(n);o.push(e),localStorage.setItem("myProjects",JSON.stringify(o)),window.onload()}},addToDo:function(t){let o=[];o=JSON.parse(localStorage.getItem("myProjects")),t.preventDefault();const n=document.getElementById("title").value,r=document.getElementById("description").value,i=document.getElementById("due-date").value,d=document.getElementById("priority").value;if(!(n&&r&&i))return alert("All fields are required to add todo item."),!1;{let a=new e(n,r,i,d);o[`${t.target.getAttribute("data-position")}`].toDoArray.push(a),localStorage.setItem("myProjects",JSON.stringify(o)),window.onload()}}}}(),r=function(t){let e=[];e=JSON.parse(localStorage.getItem("myProjects")),console.log(t.target.getAttribute("data-position")),e.splice(t.target.getAttribute("data-position"),1),localStorage.setItem("myProjects",JSON.stringify(e)),window.onload()},i=function(t){let e=[];e=JSON.parse(localStorage.getItem("myProjects")),console.log(t.target.getAttribute("data-todo")),e[t.target.getAttribute("data-position")].toDoArray.splice(t.target.getAttribute("data-todo"),1),localStorage.setItem("myProjects",JSON.stringify(e)),window.onload()};window.onload=function(){a=JSON.parse(localStorage.getItem("myProjects")),null===a&&(a=[]),c.addAllProjects()};const d=document.getElementById("addProjectBtn");let a=[];const c=function(){const t=function(t){const n=document.getElementById("projectList"),i=document.getElementById("projects"),d=document.createElement("div"),c=document.createElement("div"),l=document.createElement("h2"),u=document.createElement("img"),s=document.createElement("h6"),p=document.createElement("h4"),m=document.createElement("button");d.setAttribute("class","card"),d.setAttribute("id",`${a.indexOf(t)}`),c.setAttribute("id","titleDiv"),l.setAttribute("id","projectTitle"),l.textContent=`Project: ${t.project}`,u.setAttribute("id","deletePrj"),u.setAttribute("src","./images/delete-alert.png"),u.setAttribute("alt","delete project icon"),u.setAttribute("title","delete project"),u.setAttribute("data-position",`${a.indexOf(t)}`),p.setAttribute("id","toDoListHeader"),p.textContent=`${t.project} To Do List:`,m.setAttribute("id","addToDoBtn"),m.setAttribute("type","submit"),m.setAttribute("data-position",`${a.indexOf(t)}`),m.textContent="+add todo item",s.textContent=`${t.project}`,s.setAttribute("id","projectTitleSidebar"),i.append(d),d.append(c),c.append(l),c.append(u),d.append(p);let b=`${a.indexOf(t)}`;a[`${a.indexOf(t)}`].toDoArray.forEach((t=>e(t,b))),d.append(m),u.addEventListener("dblclick",r),m.addEventListener("click",o),n.append(s)},e=function(t,e){const o=document.getElementById(e),n=document.createElement("div"),r=document.createElement("h6"),d=document.createElement("img");n.setAttribute("id","cardToDoList"),r.setAttribute("id","toDoItem"),r.innerHTML=`${t.title}: ${t.description}<br />\n    Goal Completion: ${t.date}`,d.setAttribute("id","deleteToDo"),d.setAttribute("src","./images/delete-alert.png"),d.setAttribute("alt","delete project icon"),d.setAttribute("title","delete todo item");let c=`${a[e].toDoArray.indexOf(t)}`;d.setAttribute("data-position",`${e}`),d.setAttribute("data-todo",`${c}`),o.appendChild(n),n.append(r),r.append(d),"urgent"===t.priority?r.style.backgroundColor="var(--urgent)":"soon"===t.priority?r.style.backgroundColor="var(--soon)":r.style.backgroundColor="var(--later)",d.addEventListener("dblclick",i)};return{addAllProjects:function(){const e=document.getElementById("projects"),o=document.getElementById("projectList");e.innerHTML="",o.innerHTML="",a.forEach((e=>t(e)))},generateProjectCards:t,addAllToDos:e}}();d.addEventListener("click",e)})();